{"version":3,"sources":["components/users/users.module.css","components/users/Users.jsx","redux/selectors/usersSelectors.js","components/users/UsersContainer.jsx"],"names":["module","exports","Users","props","pagesCount","Math","ceil","totalUsersCount","pageSize","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pages","i","push","className","usersClasses","inner","isLoading","Loading","pagesLoading","page","onClick","filter","map","currentPage","pageSelected","onPageChanged","users","user","usersLoading","name","toLowerCase","photo","to","id","src","photos","large","avatar","alt","status","button","followed","disabled","followingProgress","some","unfollow","follow","getUsersInfo","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsLoading","getFollowingProgress","UsersContainer","pageNumber","getUsers","this","React","Component","connect","setCurrentPage","followSuccess","unfollowSuccess","toggleFollowingProgress"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,aAAe,4BAA4B,KAAO,oBAAoB,MAAQ,qBAAqB,OAAS,sBAAsB,OAAS,sBAAsB,SAAW,wBAAwB,MAAQ,qBAAqB,aAAe,4BAA4B,KAAO,oBAAoB,aAAe,8B,sKC0FjXC,EArFD,SAACC,GAYX,IAVA,IAAMC,EAAaC,KAAKC,KAAKH,EAAMI,gBAAkBJ,EAAMK,UAIrDC,EAAeJ,KAAKC,KAAKF,EADX,IAEpB,EAA0CM,mBAAS,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KACMC,EAHc,IAGWF,EAAgB,GAAmB,EAC5DG,EAJc,GAIWH,EAE3BI,EAAQ,GACHC,EAAE,EAAGA,GAAKZ,EAAYY,IAC3BD,EAAME,KAAKD,GAGf,OACI,sBAAKE,UAAWC,IAAaC,MAA7B,UAEKjB,EAAMkB,UAAY,cAACC,EAAA,EAAD,IAAc,KAEjC,sBAAKJ,UAAWf,EAAMkB,UAAYF,IAAaI,aAAeJ,IAAaJ,MAA3E,UAEKJ,EAAgB,GACjB,wBAAQO,UAAWC,IAAaK,KAAMC,QAAS,WAAOb,EAAiBD,EAAgB,IAAvF,eAICI,EACIW,QAAO,SAAAF,GAAI,OAAIA,GAAQX,GAAyBW,GAAQV,KACxDa,KAAI,SAAAH,GACL,OAAO,qBAEHN,UAAWf,EAAMyB,cAAgBJ,EAC3BL,IAAaU,aACbV,IAAaK,KACnBC,QAAU,WAAOtB,EAAM2B,cAAcN,IALlC,SAMLA,GALOA,MAQZf,EAAeE,GAChB,wBAAQO,UAAWC,IAAaK,KAAMC,QAAS,WAAQb,EAAiBD,EAAgB,IAAxF,kBAMHR,EAAM4B,MACFJ,KAAI,SAAAK,GAAI,OACL,sBAAmBd,UAAWf,EAAMkB,UAAYF,IAAac,aAAed,IAAaa,KAAzF,UAEI,qBAAKd,UAAWC,IAAae,KAA7B,SACI,6BAAKF,EAAKE,KAAKC,kBAGnB,qBAAKjB,UAAWC,IAAaiB,MAA7B,SACI,cAAC,IAAD,CAASC,GAAI,YAAcL,EAAKM,GAAhC,SACI,qBAAKC,IAA2B,OAAtBP,EAAKQ,OAAOC,MAAiBT,EAAKQ,OAAOC,MAAQC,IAAQC,IAAI,oBAI/E,qBAAKzB,UAAWC,IAAayB,OAA7B,SACI,6BAAqB,OAAhBZ,EAAKY,OAAkBZ,EAAKY,OAAS,2CAG9C,qBAAK1B,UAAWC,IAAa0B,OAA7B,SACKb,EAAKc,SACA,wBAAQC,SAAU5C,EAAM6C,kBAAkBC,MAAK,SAAAX,GAAE,OAAIA,IAAON,EAAKM,MAAKb,QAAS,WAC7EtB,EAAM+C,SAASlB,EAAKM,KACrBpB,UAAWC,IAAa2B,SAFzB,sBAIA,wBAAQC,SAAU5C,EAAM6C,kBAAkBC,MAAK,SAAAX,GAAE,OAAIA,IAAON,EAAKM,MAAKb,QAAS,WAC7EtB,EAAMgD,OAAOnB,EAAKM,KADpB,wBAtBJN,EAAKM,WCvDtBc,EAAe,SAACC,GACzB,OAAOA,EAAMC,UAAUvB,OAGdwB,EAAc,SAACF,GACxB,OAAOA,EAAMC,UAAU9C,UAGdgD,EAAqB,SAACH,GAC/B,OAAOA,EAAMC,UAAU/C,iBAGdkD,EAAiB,SAACJ,GAC3B,OAAOA,EAAMC,UAAU1B,aAGd8B,EAAe,SAACL,GACzB,OAAOA,EAAMC,UAAUjC,WAGdsC,EAAuB,SAACN,GACjC,OAAOA,EAAMC,UAAUN,mBCArBY,E,4MAKF9B,cAAgB,SAAC+B,GACb,EAAK1D,MAAM2D,SAASD,EAAY,EAAK1D,MAAMK,W,uDAL/C,WACIuD,KAAK5D,MAAM2D,SAASC,KAAK5D,MAAMyB,YAAamC,KAAK5D,MAAMK,Y,oBAO3D,WACI,OAAO,mCACH,cAAC,EAAD,CACIuB,MAAOgC,KAAK5D,MAAM4B,MAClBvB,SAAUuD,KAAK5D,MAAMK,SACrBD,gBAAiBwD,KAAK5D,MAAMI,gBAC5BqB,YAAamC,KAAK5D,MAAMyB,YACxBP,UAAW0C,KAAK5D,MAAMkB,UACtB2B,kBAAmBe,KAAK5D,MAAM6C,kBAC9BlB,cAAeiC,KAAKjC,cACpBqB,OAAQY,KAAK5D,MAAMgD,OACnBD,SAAUa,KAAK5D,MAAM+C,iB,GApBRc,IAAMC,WAqCpBC,uBAXS,SAACb,GACrB,MAAO,CACHtB,MAAOqB,EAAaC,GACpB7C,SAAU+C,EAAYF,GACtB9C,gBAAiBiD,EAAmBH,GACpCzB,YAAa6B,EAAeJ,GAC5BhC,UAAWqC,EAAaL,GACxBL,kBAAmBW,EAAqBN,MAK5C,CACIc,mBACAC,kBACAC,oBACAC,4BACAR,aACAX,WACAD,cAROgB,CASZN","file":"static/js/5.0db5af34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inner\":\"users_inner__8zw3D\",\"user\":\"users_user__35VOC\",\"usersLoading\":\"users_usersLoading__1Z-K5\",\"name\":\"users_name__Or0kG\",\"photo\":\"users_photo__Z_NMi\",\"status\":\"users_status__HnLT-\",\"button\":\"users_button__2U6vF\",\"followed\":\"users_followed__1INXW\",\"pages\":\"users_pages__2zuKX\",\"pagesLoading\":\"users_pagesLoading__zGKft\",\"page\":\"users_page__1VGXq\",\"pageSelected\":\"users_pageSelected__3AnPR\"};","import React, {useState} from 'react';\nimport usersClasses from \"./users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport avatar from \"../../assets/img/unknownUser.jpeg\";\nimport Loading from \"../common/loading/Loading\";\n\nconst Users = (props) => {\n    // count quantity of pages\n    const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\n\n    // pagination\n    const portionSize = 15;\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    const [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n    let pages = [];\n    for (let i=1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    return (\n        <div className={usersClasses.inner}>\n\n            {props.isLoading ? <Loading /> : null}\n\n            <div className={props.isLoading ? usersClasses.pagesLoading : usersClasses.pages}>\n\n                {portionNumber > 1 &&\n                <button className={usersClasses.page} onClick={() => {setPortionNumber(portionNumber - 1) }}>&lt;\n                </button>\n                }\n\n                {pages\n                    .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\n                    .map(page => {\n                    return <div\n                        key={page}\n                        className={props.currentPage === page\n                            ? usersClasses.pageSelected\n                            : usersClasses.page }\n                        onClick={ () => {props.onPageChanged(page)} }\n                    >{page}</div>\n                })}\n\n                {portionCount > portionNumber &&\n                <button className={usersClasses.page} onClick={() => { setPortionNumber(portionNumber + 1) }}>&gt;\n                </button>\n                }\n\n            </div>\n\n            {props.users\n                .map(user =>\n                    <div key={user.id} className={props.isLoading ? usersClasses.usersLoading : usersClasses.user}>\n\n                        <div className={usersClasses.name}>\n                            <h1>{user.name.toLowerCase()}</h1>\n                        </div>\n\n                        <div className={usersClasses.photo}>\n                            <NavLink to={'/profile/' + user.id}>\n                                <img src={user.photos.large !== null ? user.photos.large : avatar} alt='User avatar'/>\n                            </NavLink>\n                        </div>\n\n                        <div className={usersClasses.status}>\n                            <h3>{user.status !== null ? user.status : 'There could be a status here, but...'}</h3>\n                        </div>\n\n                        <div className={usersClasses.button}>\n                            {user.followed\n                                ? <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => {\n                                    props.unfollow(user.id);\n                                }} className={usersClasses.followed}>Followed</button>\n\n                                : <button disabled={props.followingProgress.some(id => id === user.id)} onClick={() => {\n                                    props.follow(user.id)\n                                }}>Follow</button>\n                            }\n                        </div>\n\n                    </div>\n                )\n            }\n\n        </div>\n    );\n};\n\nexport default Users;\n","export const getUsersInfo = (state) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsLoading = (state) => {\n    return state.usersPage.isLoading\n}\n\nexport const getFollowingProgress = (state) => {\n    return state.usersPage.followingProgress\n}","import {connect} from \"react-redux\";\nimport {\n    follow,\n    unfollow,\n    followSuccess,\n    getUsers,\n    setCurrentPage,\n    toggleFollowingProgress,\n    unfollowSuccess\n} from \"../../redux/reducers/usersReducer\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport {\n    getCurrentPage,\n    getFollowingProgress,\n    getIsLoading,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersInfo\n} from \"../../redux/selectors/usersSelectors\";\n\nclass UsersContainer extends React.Component{\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.getUsers(pageNumber, this.props.pageSize);\n    }\n\n    render() {\n        return <>\n            <Users\n                users={this.props.users}\n                pageSize={this.props.pageSize}\n                totalUsersCount={this.props.totalUsersCount}\n                currentPage={this.props.currentPage}\n                isLoading={this.props.isLoading}\n                followingProgress={this.props.followingProgress}\n                onPageChanged={this.onPageChanged}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n            />\n        </>\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsersInfo(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isLoading: getIsLoading(state),\n        followingProgress: getFollowingProgress(state),\n    }\n}\n\nexport default connect(mapStateToProps,\n    {\n        setCurrentPage,\n        followSuccess,\n        unfollowSuccess,\n        toggleFollowingProgress,\n        getUsers,\n        follow, \n        unfollow}\n) (UsersContainer);\n"],"sourceRoot":""}