(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{10:function(e,t,n){e.exports={profile:"profile_profile__1J6m0",profileLoading:"profile_profileLoading__6b-v7",photo:"profile_photo__1Sw9L",upload:"profile_upload__3MOeI",info:"profile_info__1XW5B",status:"profile_status__3r-jF",data:"profile_data__3iiHG",button:"profile_button__jGi_t",dataItem:"profile_dataItem__2CDL6",dataItemName:"profile_dataItemName__3KMiB",dataItemCheck:"profile_dataItemCheck__2QLfe",dataItemContacts:"profile_dataItemContacts__lxXNs",dataItemField:"profile_dataItemField__1EQxQ",contacts:"profile_contacts__3JCNb",field:"profile_field__AP8Tm",fieldText:"profile_fieldText__2LKmb",social:"profile_social__3CJJu"}},108:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(36),r=n(3),s="SEND-MESSAGE",c={messagesData:[]},i=function(e){return{type:s,newMessageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:4,message:t.newMessageText};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[n])});default:return e}}},109:function(e,t,n){"use strict";n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return y}));var a=n(9),r=n.n(a),s=n(16),c=n(36),i=n(3),o=n(17),u=n(41),l="SET-USERS",d="SET-CURRENT-PAGE",j="SET-TOTAL-USERS-COUNT",f="FOLLOW",b="UNFOLLOW",p="TOGGLE-IS-LOADING",h="TOGGLE-FOLLOWING-PROGRESS",O={users:[],pageSize:12,totalUsersCount:0,currentPage:1,isLoading:!1,followingProgress:[]},m=function(e){return{type:p,isLoading:e}},x=function(e,t){return{type:h,isLoading:e,userId:t}},v=function(e){return{type:d,pageNumber:e}},g=function(e){return{type:f,userId:e}},_=function(e){return{type:b,userId:e}},N=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(m(!0)),a(v(e)),n.next=4,o.c.getUsers(e,t);case 4:s=n.sent,a(m(!1)),a((c=s.items,{type:l,users:c})),a((r=s.totalCount,{type:j,totalCount:r}));case 8:case"end":return n.stop()}var r,c}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(x(!0,e)),t.next=3,o.c.follow(e);case 3:0===t.sent.data.resultCode&&(n(g(e)),n(Object(u.b)())),n(x(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(x(!0,e)),t.next=3,o.c.unfollow(e);case 3:0===t.sent.data.resultCode&&(n(_(e)),n(Object(u.b)())),n(x(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case d:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.pageNumber});case j:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalCount});case p:return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});case h:return Object(i.a)(Object(i.a)({},e),{},{followingProgress:t.isLoading?[].concat(Object(c.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});case f:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case b:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});default:return e}}},138:function(e,t,n){e.exports={loading:"loading_loading__1Af0M"}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(134),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a60e2925-9e48-4e88-a8f4-0ca5f14206c3"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getFriends:function(){return r.get("users?friend=true").then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},c={authMe:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}},i={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t)},saveProfileData:function(e){return r.put("profile",e)}}},254:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(11),c=n(9),i=n.n(c),o=n(16),u=n(36),l=n(3),d=n(45),j=n(17),f=n(28),b="ADD-POST",p="SET-USER-PROFILE",h="SET-STATUS",O="SAVE-PHOTO-SUCCESS",m={postsData:[],profile:null,status:null},x=function(e){return{type:h,status:e}},v=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.b.getProfile(e);case 2:a=t.sent,n((r=a.data,{type:p,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n={id:1,author:"Maxim Abuzarov",date:"15 June 2021",title:"Post #1",text:t.newPostText,url:d.a};return Object(l.a)(Object(l.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[n])});case p:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case h:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case O:return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.photos})});default:return e}},_=n(108),N=n(41),w=n(109),y=n(46),P=n(135),k=n(133),S="INITIALIZED",C={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},L=Object(s.c)({profilePage:g,messagesPage:_.a,aside:N.a,usersPage:w.a,auth:y.a,app:I,form:k.a}),A=Object(s.e)(L,Object(s.a)(P.a)),T=n(19),E=n(13),D=n(70),F=n.n(D),U=n(29),M=n(30),G=n(32),z=n(31),R=n(12),B=n(33),J=n(0),K=function(e){return function(t){return Object(J.jsx)(r.a.Suspense,{fallback:Object(J.jsx)(B.a,{}),children:Object(J.jsx)(e,Object(l.a)({},t))})}},Q=(n(254),n(74)),V=n.n(Q),W=n.p+"static/media/vk.e9553eae.svg",q=n.p+"static/media/github.9544f549.svg",H=function(){return Object(J.jsxs)("footer",{className:V.a.footer,children:[Object(J.jsxs)("div",{className:V.a.leftCol,children:[Object(J.jsx)("ul",{children:Object(J.jsx)("li",{children:Object(J.jsxs)("a",{href:"https://vk.com/maxim.abuzarov",target:"_blank",rel:"noreferrer",children:[Object(J.jsx)("img",{src:W,alt:"VK icon"}),Object(J.jsx)("span",{children:"VK"})]})})}),Object(J.jsx)("ul",{children:Object(J.jsx)("li",{children:Object(J.jsxs)("a",{href:"https://github.com/maxim-abuzarov",target:"_blank",rel:"noreferrer",children:[Object(J.jsx)("img",{src:q,alt:"Github icon"}),Object(J.jsx)("span",{children:"GitHub"})]})})})]}),Object(J.jsx)("div",{className:V.a.rightCol,children:Object(J.jsx)("p",{children:" \xa9 Abuzarov Maxim, 2021"})})]})},X=n(43),Y=n.n(X),Z=n.p+"static/media/profile.d54ae6c5.svg",$=n.p+"static/media/messages.4a3a2c6a.svg",ee=n.p+"static/media/users.9c5d22db.svg",te=n(75),ne=n.n(te),ae=function(e){var t=e.id,n=e.name,a=e.url;return Object(J.jsxs)(T.b,{to:"/profile/"+t,className:ne.a.friend,children:[Object(J.jsx)("div",{className:ne.a.name,children:n.toLowerCase()}),Object(J.jsx)("div",{className:ne.a.photo,children:Object(J.jsx)("img",{src:a||d.a,alt:"Friend avatar"})})]})},re=function(e){var t=e.friends,n=e.isLoading,a=t.map((function(e){return Object(J.jsx)(ae,{id:e.id,name:e.name,url:e.photos.large},e.id)}));return Object(J.jsxs)("nav",{className:Y.a.navigation,children:[Object(J.jsxs)("ul",{children:[Object(J.jsx)("li",{children:Object(J.jsxs)(T.b,{to:"/profile",activeClassName:Y.a.active,children:[Object(J.jsx)("img",{src:Z,alt:"Profile icon"}),Object(J.jsx)("span",{children:"Profile"})]})}),Object(J.jsx)("li",{children:Object(J.jsxs)(T.b,{to:"/messages",activeClassName:Y.a.active,children:[Object(J.jsx)("img",{src:$,alt:"Messages icon"}),Object(J.jsx)("span",{children:"Messages"})]})}),Object(J.jsx)("li",{children:Object(J.jsxs)(T.b,{to:"/users",activeClassName:Y.a.active,children:[Object(J.jsx)("img",{src:ee,alt:"Users icon"}),Object(J.jsx)("span",{children:"Users"})]})})]}),Object(J.jsxs)("div",{className:Y.a.friendsBlock,children:[Object(J.jsx)("div",{children:Object(J.jsx)("h1",{children:"Friends"})}),Object(J.jsx)("div",{className:Y.a.friends,children:n?Object(J.jsx)(B.a,{}):0!==a.length?a:"Follow somebody"})]})]})},se=function(e){Object(G.a)(n,e);var t=Object(z.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.getFriendsList()}},{key:"render",value:function(){return Object(J.jsx)(re,{friends:this.props.friends,isLoading:this.props.isLoading})}},{key:"componentDidUpdate",value:function(e,t,n){this.props.friends,e.friends}}]),n}(r.a.Component),ce=Object(E.b)((function(e){return{friends:e.aside.friends,isLoading:e.aside.isLoading}}),{getFriendsList:N.b})(se),ie=n(56),oe=n(10),ue=n.n(oe),le=function(e){var t=Object(a.useState)(!1),n=Object(ie.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(e.status),i=Object(ie.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(J.jsx)("div",{children:r?Object(J.jsxs)("div",{children:[" ",Object(J.jsx)("input",{onBlur:function(){s(!1),e.updateStatus(o)},autoFocus:!0,onFocus:function(e){e.target.select()},onChange:function(e){u(e.currentTarget.value)},value:o})]}):Object(J.jsxs)("div",{onClick:function(){e.isOwner&&s(!0)},children:[" ",e.status?e.status:"There could be a status here, but..."]})})},de=n(35),je=n(131),fe=n(132),be=n(42),pe=n.n(be),he=Object(fe.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return Object(J.jsxs)("form",{onSubmit:t,className:ue.a.data,children:[Object(J.jsxs)("div",{className:ue.a.dataItemName,children:[Object(J.jsx)("h1",{children:"Full Name:"}),Object(J.jsx)(je.a,{component:de.a,name:"fullName",placeholder:"Full Name",className:ue.a.field})]}),Object(J.jsxs)("div",{className:ue.a.dataItemCheck,children:[Object(J.jsx)("h1",{children:"Looking for a job:"}),Object(J.jsx)(je.a,{component:de.a,name:"lookingForAJob",type:"checkbox"})]}),Object(J.jsxs)("div",{className:ue.a.dataItemField,children:[Object(J.jsx)("h1",{children:"Professional skills:"}),Object(J.jsx)(je.a,{component:de.b,name:"lookingForAJobDescription",placeholder:"Professional skills",className:ue.a.fieldText})]}),Object(J.jsxs)("div",{className:ue.a.dataItemField,children:[Object(J.jsx)("h1",{children:"About me:"}),Object(J.jsx)(je.a,{component:de.b,name:"aboutMe",placeholder:"About me",className:ue.a.fieldText})]}),Object(J.jsxs)("div",{className:ue.a.dataItemContacts,children:[Object(J.jsx)("h1",{children:"Contacts:"}),Object.keys(n.contacts).map((function(e){return Object(J.jsxs)("div",{className:ue.a.contacts,children:[Object(J.jsxs)("h2",{children:[e,":"]}),Object(J.jsx)(je.a,{component:de.a,name:"contacts."+e,placeholder:e,className:ue.a.social})]},e)}))]}),a&&Object(J.jsx)("div",{className:pe.a.formSummaryError,children:a}),Object(J.jsx)("div",{className:ue.a.button,children:Object(J.jsx)("button",{children:"Save"})})]})})),Oe=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return Object(J.jsxs)("div",{className:ue.a.data,children:[Object(J.jsxs)("div",{className:ue.a.dataItem,children:[Object(J.jsx)("h1",{children:"Looking for a job: "}),Object(J.jsx)("p",{children:t.lookingForAJob?"Yes":"No"})]}),Object(J.jsxs)("div",{className:ue.a.dataItem,children:[Object(J.jsx)("h1",{children:"Professional skills:"}),Object(J.jsx)("p",{children:t.lookingForAJobDescription})]}),Object(J.jsxs)("div",{className:ue.a.dataItem,children:[Object(J.jsx)("h1",{children:"About me: "}),Object(J.jsx)("p",{children:t.aboutMe})]}),Object(J.jsxs)("div",{className:ue.a.dataItemContacts,children:[Object(J.jsx)("h1",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(J.jsx)(me,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),n&&Object(J.jsx)("div",{className:ue.a.button,children:Object(J.jsx)("button",{onClick:a,children:"Edit"})})]})},me=function(e){var t=e.contactTitle,n=e.contactValue;return Object(J.jsx)("div",{children:n&&Object(J.jsxs)("div",{className:ue.a.contacts,children:[Object(J.jsx)("h2",{children:t?n&&t:null}),Object(J.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:n})]})})},xe=function(e){var t=e.profile,n=e.savePhoto,r=e.saveProfileData,s=e.isOwner,c=e.status,i=e.updateStatus,o=Object(a.useState)(!1),u=Object(ie.a)(o,2),l=u[0],j=u[1];if(!t)return Object(J.jsx)("div",{className:ue.a.profileLoading,children:Object(J.jsx)(B.a,{})});return Object(J.jsxs)("div",{className:ue.a.profile,children:[Object(J.jsxs)("div",{className:ue.a.photo,children:[Object(J.jsx)("img",{src:t.photos.large?t.photos.large:d.a,alt:"Profile avatar"}),s&&Object(J.jsxs)("div",{className:ue.a.upload,children:[Object(J.jsx)("button",{children:"Add photo"}),Object(J.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})]})]}),Object(J.jsxs)("div",{className:ue.a.info,children:[Object(J.jsx)("h2",{children:t.fullName?t.fullName:"Name"}),Object(J.jsx)("div",{className:ue.a.status,children:Object(J.jsx)(le,{status:c,isOwner:s,updateStatus:i})}),l?Object(J.jsx)(he,{initialValues:t,profile:t,onSubmit:function(e){r(e).then((function(){j(!1)}))}}):Object(J.jsx)(Oe,{profile:t,isOwner:s,goToEditMode:function(){j(!0)}})]})]})},ve=n(99),ge=n.n(ve),_e=n(50),Ne=n.n(_e),we=function(e){var t=e.url,n=e.author,a=e.date,r=e.title,s=e.text;return Object(J.jsxs)("div",{className:Ne.a.post,children:[Object(J.jsxs)("div",{className:Ne.a.header,children:[Object(J.jsx)("div",{className:Ne.a.left,children:Object(J.jsx)("img",{src:t,alt:"Author avatar"})}),Object(J.jsxs)("div",{className:Ne.a.author,children:[Object(J.jsx)("h4",{children:n}),Object(J.jsx)("p",{children:a})]})]}),Object(J.jsxs)("div",{className:Ne.a.content,children:[Object(J.jsx)("h2",{children:r}),Object(J.jsx)("p",{children:s})]})]})},ye=n(93),Pe=Object(ye.a)(30),ke=Object(fe.a)({form:"postForm",onSubmitSuccess:function(e,t){return t(Object(f.a)("postForm"))}})((function(e){return Object(J.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(J.jsx)(je.a,{name:"newPostText",component:de.b,placeholder:"Add your post",validate:[ye.b,Pe]}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{children:"Add"})})]})})),Se=function(e){var t=Object(u.a)(e.posts).reverse().map((function(e){return Object(J.jsx)(we,{author:e.author,date:e.date,title:e.title,text:e.text,url:e.url},e.id)}));return Object(J.jsxs)("div",{className:ge.a.posts,children:[Object(J.jsx)("div",{children:Object(J.jsx)("h1",{children:"Add post"})}),Object(J.jsx)("div",{className:ge.a.addPost,children:Object(J.jsx)(ke,{onSubmit:function(t){e.addPost(t.newPostText)}})}),t]})},Ce=Object(E.b)((function(e){return{posts:e.profilePage.postsData}}),{addPost:function(e){return{type:b,newPostText:e}}})(Se),Ie=function(e){var t=e.profile,n=e.saveProfileData,a=e.savePhoto,r=e.isOwner,s=e.status,c=e.updateStatus;return Object(J.jsxs)("aside",{children:[Object(J.jsx)(xe,{profile:t,saveProfileData:n,savePhoto:a,isOwner:r,status:s,updateStatus:c}),Object(J.jsx)(Ce,{})]})},Le=function(e){Object(G.a)(n,e);var t=Object(z.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(J.jsx)(Ie,Object(l.a)(Object(l.a)({},this.props),{},{profile:this.props.profile,saveProfileData:this.props.saveProfileData,savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),Ae=Object(s.d)(R.f,Object(E.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:v,getStatus:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.b.getStatus(e);case 2:a=t.sent,n(x(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(x(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.b.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n((r=a.data.data.photos,{type:O,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileData:function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n,a){var r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,j.b.saveProfileData(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}n(v(r)),t.next=10;break;case 8:return n(Object(f.b)("editProfile",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}))(Le),Te=n.p+"static/media/logo.224ee00a.svg",Ee=n(61),De=n.n(Ee),Fe=function(e){var t=e.isAuth,n=e.login,a=e.logout;return Object(J.jsxs)("header",{className:De.a.header,children:[Object(J.jsx)("div",{className:De.a.logotype,children:Object(J.jsx)(T.b,{to:"/profile",children:Object(J.jsx)("img",{src:Te,alt:"M logotype"})})}),Object(J.jsx)("div",{className:De.a.login,children:t?Object(J.jsxs)("h1",{children:[n," - ",Object(J.jsx)("button",{className:De.a.logout,onClick:a,children:"Logout"})]}):Object(J.jsx)(T.b,{to:"/login",children:"Login"})})]})},Ue=function(e){Object(G.a)(n,e);var t=Object(z.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){return Object(J.jsx)(Fe,Object(l.a)({},this.props))}}]),n}(r.a.Component),Me=Object(E.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:y.d})(Ue),Ge=r.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),ze=r.a.lazy((function(){return n.e(5).then(n.bind(null,305))})),Re=r.a.lazy((function(){return n.e(4).then(n.bind(null,303))})),Be=function(e){Object(G.a)(n,e);var t=Object(z.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(J.jsxs)("div",{className:"app-wrapper",children:[Object(J.jsx)(Me,{}),Object(J.jsx)(ce,{}),Object(J.jsxs)("div",{className:"app-content",children:[Object(J.jsx)(R.b,{path:"/profile/:userId?",render:function(){return Object(J.jsx)(Ae,{})}}),Object(J.jsx)(R.b,{path:"/messages",render:K(Ge)}),Object(J.jsx)(R.b,{path:"/users",render:K(ze)}),Object(J.jsx)(R.b,{path:"/login",render:K(Re)})]}),Object(J.jsx)(H,{})]}):Object(J.jsx)(B.a,{})}}]),n}(r.a.Component),Je=Object(s.d)(R.f,Object(E.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(y.b)());Promise.all([t]).then((function(){e({type:S})}))}}}))(Be);F.a.render(Object(J.jsx)(T.a,{children:Object(J.jsx)(E.a,{store:A,children:Object(J.jsx)(Je,{})})}),document.getElementById("root"))},33:function(e,t,n){"use strict";n(1);var a=n(138),r=n.n(a),s=n(0);t.a=function(){return Object(s.jsxs)("div",{className:r.a.loading,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(3),r=n(96),s=(n(1),n(42)),c=n.n(s),i=n(0),o=["input","meta"],u=["input","meta"],l=function(e){var t=e.input,n=e.meta,s=Object(r.a)(e,o),u=n.touched&&n.error;return Object(i.jsxs)("div",{className:c.a.formControl+" "+(u?c.a.error:""),children:[Object(i.jsx)("textarea",Object(a.a)(Object(a.a)({},t),s)),u&&Object(i.jsx)("span",{children:n.error})]})},d=function(e){var t=e.input,n=e.meta,s=Object(r.a)(e,u),o=n.touched&&n.error;return Object(i.jsxs)("div",{className:c.a.formControl+" "+(o?c.a.error:""),children:[Object(i.jsx)("input",Object(a.a)(Object(a.a)({},t),s)),o&&Object(i.jsx)("span",{children:n.error})]})}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return j}));var a=n(9),r=n.n(a),s=n(16),c=n(3),i=n(17),o="GET-FRIENDS",u="TOGGLE-IS-LOADING",l={friends:[],isLoading:!1},d=function(e){return{type:u,isLoading:e}},j=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(!0)),e.next=3,i.c.getFriends();case 3:n=e.sent,t(d(!1)),t((a=n.items,{type:o,friends:a}));case 6:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),{},{friends:t.friends});case u:return Object(c.a)(Object(c.a)({},e),{},{isLoading:t.isLoading});default:return e}}},42:function(e,t,n){e.exports={formControl:"formscontol_formControl__3GBCo",error:"formscontol_error__3T9u-",formSummaryError:"formscontol_formSummaryError__ulmBQ"}},43:function(e,t,n){e.exports={navigation:"navigation_navigation__unRcd",active:"navigation_active__3_qnU",friendsBlock:"navigation_friendsBlock__E3nj3",friends:"navigation_friends__2ayIw"}},45:function(e,t,n){"use strict";t.a=n.p+"static/media/unknownUser.6cf2a92e.jpeg"},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b}));var a=n(9),r=n.n(a),s=n(16),c=n(3),i=n(17),o=n(28),u="SET-USER-DATA",l={userId:null,email:null,login:null,isAuth:!1},d=function(e,t,n,a){return{type:u,payload:{userId:e,email:t,login:n,isAuth:a}}},j=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.authMe();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,s=a.id,c=a.login,o=a.email,t(d(s,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var a=Object(s.a)(r.a.mark((function a(s){var c,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.login(e,t,n);case 2:0===(c=a.sent).data.resultCode?s(j()):(u=c.data.messages.length>0?c.data.messages[0]:"Wrong data",s(Object(o.b)("login",{_error:u})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},50:function(e,t,n){e.exports={post:"post_post__1jCQ3",header:"post_header__2t5cH",left:"post_left__1q5zG",author:"post_author__1OlPZ",content:"post_content__QUk1d"}},61:function(e,t,n){e.exports={header:"header_header__v9FKw",logotype:"header_logotype__3t_N6",login:"header_login__3v_4I",logout:"header_logout__1MXam"}},74:function(e,t,n){e.exports={footer:"footer_footer__1lZIc",leftCol:"footer_leftCol__-Ohmk",rightCol:"footer_rightCol__3BfnC"}},75:function(e,t,n){e.exports={friend:"friend_friend__1bWIq",photo:"friend_photo__2cFYB",name:"friend_name__3gArK"}},93:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Required field"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},99:function(e,t,n){e.exports={posts:"posts_posts__29oo6",addPost:"posts_addPost__3cpu9"}}},[[297,1,2]]]);
//# sourceMappingURL=main.f9c8f989.chunk.js.map