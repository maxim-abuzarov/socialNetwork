{"version":3,"sources":["components/users/users.module.css","components/users/Users.jsx","redux/selectors/usersSelectors.js","components/users/UsersContainer.jsx"],"names":["module","exports","Users","totalUsersCount","pageSize","isLoading","currentPage","onPageChanged","users","followingProgress","follow","unfollow","pagesCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pages","i","push","className","usersClasses","inner","Loading","pagesLoading","page","onClick","filter","map","pageSelected","user","usersLoading","name","toLowerCase","photo","to","id","src","photos","large","avatar","alt","status","button","followed","disabled","some","getUsersInfo","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsLoading","getFollowingProgress","UsersContainer","pageNumber","props","getUsers","this","React","Component","connect","setCurrentPage","followSuccess","unfollowSuccess","toggleFollowingProgress"],"mappings":"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","file":"static/js/5.bd6030b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inner\":\"users_inner__8zw3D\",\"user\":\"users_user__35VOC\",\"usersLoading\":\"users_usersLoading__1Z-K5\",\"name\":\"users_name__Or0kG\",\"photo\":\"users_photo__Z_NMi\",\"status\":\"users_status__HnLT-\",\"button\":\"users_button__2U6vF\",\"followed\":\"users_followed__1INXW\",\"pages\":\"users_pages__2zuKX\",\"pagesLoading\":\"users_pagesLoading__zGKft\",\"page\":\"users_page__1VGXq\",\"pageSelected\":\"users_pageSelected__3AnPR\"};","import React, {useState} from 'react';\nimport usersClasses from \"./users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport avatar from \"../../assets/img/unknownUser.jpeg\";\nimport Loading from \"../common/loading/Loading\";\n\nconst Users = ({\n                   totalUsersCount,\n                   pageSize,\n                   isLoading,\n                   currentPage,\n                   onPageChanged,\n                   users,\n                   followingProgress,\n                   follow,\n                   unfollow }) => {\n    // count quantity of pages\n    const pagesCount = Math.ceil(totalUsersCount / pageSize)\n\n    // pagination\n    const portionSize = 15;\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    const [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n    let pages = [];\n    for (let i=1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    return (\n        <div className={usersClasses.inner}>\n\n            {isLoading ? <Loading /> : null}\n\n            <div className={isLoading ? usersClasses.pagesLoading : usersClasses.pages}>\n\n                {portionNumber > 1 &&\n                <button className={usersClasses.page} onClick={() => {setPortionNumber(portionNumber - 1) }}>&lt;\n                </button>\n                }\n\n                {pages\n                    .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\n                    .map(page => {\n                    return <div\n                        key={page}\n                        className={currentPage === page\n                            ? usersClasses.pageSelected\n                            : usersClasses.page }\n                        onClick={ () => {onPageChanged(page)} }\n                    >{page}</div>\n                })}\n\n                {portionCount > portionNumber &&\n                <button className={usersClasses.page} onClick={() => { setPortionNumber(portionNumber + 1) }}>&gt;\n                </button>\n                }\n\n            </div>\n\n            {users\n                .map(user =>\n                    <div key={user.id} className={isLoading ? usersClasses.usersLoading : usersClasses.user}>\n\n                        <div className={usersClasses.name}>\n                            <h1>{user.name.toLowerCase()}</h1>\n                        </div>\n\n                        <div className={usersClasses.photo}>\n                            <NavLink to={'/profile/' + user.id}>\n                                <img src={user.photos.large !== null ? user.photos.large : avatar} alt='User avatar'/>\n                            </NavLink>\n                        </div>\n\n                        <div className={usersClasses.status}>\n                            <h3>{user.status !== null ? user.status : 'There could be a status here, but...'}</h3>\n                        </div>\n\n                        <div className={usersClasses.button}>\n                            {user.followed\n                                ? <button disabled={followingProgress.some(id => id === user.id)} onClick={() => {\n                                    unfollow(user.id);\n                                }} className={usersClasses.followed}>Followed</button>\n\n                                : <button disabled={followingProgress.some(id => id === user.id)} onClick={() => {\n                                    follow(user.id)\n                                }}>Follow</button>\n                            }\n                        </div>\n\n                    </div>\n                )\n            }\n\n        </div>\n    );\n};\n\nexport default Users;\n","export const getUsersInfo = (state) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsLoading = (state) => {\n    return state.usersPage.isLoading\n}\n\nexport const getFollowingProgress = (state) => {\n    return state.usersPage.followingProgress\n}","import {connect} from \"react-redux\";\nimport {\n    follow,\n    unfollow,\n    followSuccess,\n    getUsers,\n    setCurrentPage,\n    toggleFollowingProgress,\n    unfollowSuccess\n} from \"../../redux/reducers/usersReducer\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport {\n    getCurrentPage,\n    getFollowingProgress,\n    getIsLoading,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersInfo\n} from \"../../redux/selectors/usersSelectors\";\n\nclass UsersContainer extends React.Component{\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.getUsers(pageNumber, this.props.pageSize);\n    }\n\n    render() {\n        return <>\n            <Users\n                users={this.props.users}\n                pageSize={this.props.pageSize}\n                totalUsersCount={this.props.totalUsersCount}\n                currentPage={this.props.currentPage}\n                isLoading={this.props.isLoading}\n                followingProgress={this.props.followingProgress}\n                onPageChanged={this.onPageChanged}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n            />\n        </>\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        users: getUsersInfo(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isLoading: getIsLoading(state),\n        followingProgress: getFollowingProgress(state),\n    }\n}\n\nexport default connect(mapStateToProps,\n    {\n        setCurrentPage,\n        followSuccess,\n        unfollowSuccess,\n        toggleFollowingProgress,\n        getUsers,\n        follow, \n        unfollow}\n) (UsersContainer);\n"],"sourceRoot":""}