{"version":3,"sources":["components/messages/messages.module.css","components/messages/message/message.module.css","components/messages/friend/friend.module.css","components/messages/message/Message.jsx","components/messages/friend/Friend.jsx","components/messages/Messages.jsx","hoc/withAuthRedirect.js","components/messages/MessagesContainer.jsx"],"names":["module","exports","Message","props","className","messageClasses","message","Friend","to","id","friendClasses","friends","friend","src","url","avatar","alt","name","maxLength300","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","requiredField","placeholder","Messages","map","photos","large","messages","messagesClasses","leftCol","rightCol","head","write","writeMessage","values","sendMessage","newMessageText","mapStateToProps","state","isAuth","auth","compose","connect","aside","messagesPage","messagesData","Component","RedirectComponent","this","React"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,QAAU,0BAA0B,SAAW,2BAA2B,KAAO,uBAAuB,MAAQ,wBAAwB,aAAe,iC,oBCAnPD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,OAAS,yB,gHCU9CC,EARC,SAACC,GACb,OACI,qBAAKC,UAAWC,IAAeC,QAA/B,SACI,6BAAKH,EAAMG,a,kCCaRC,EAdA,SAACJ,GACZ,OACI,cAAC,IAAD,CAASK,GAAI,eAAiBL,EAAMM,GAAIL,UAAWM,IAAcC,QAAjE,SACI,sBAAKP,UAAWM,IAAcE,OAA9B,UAEI,qBAAKC,IAAKV,EAAMW,IAAMX,EAAMW,IAAMC,IAAQC,IAAI,kBAE9C,6BAAKb,EAAMc,a,kCCmDrBC,EAAeC,YAAiB,KAWhCC,EAAsBC,YAAU,CAACC,KAAM,0BAAjBD,EATL,SAAClB,GACpB,OACI,uBAAMoB,SAAUpB,EAAMqB,aAAtB,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,SAAU,CAACC,IAAeX,GAAeD,KAAK,iBAAiBa,YAAY,iCACvG,gDAOGC,EApEE,SAAC5B,GACd,IAAIQ,EAAUR,EAAMQ,QAAQqB,KAAI,SAAApB,GAAM,OAAI,cAAC,EAAD,CAEtCK,KAAML,EAAOK,KACbR,GAAIG,EAAOH,GACXK,IAAKF,EAAOqB,OAAOC,OAHdtB,EAAOH,OAMZ0B,EAAWhC,EAAMgC,SAASH,KAAI,SAAA1B,GAAO,OAAI,cAAC,EAAD,CAEzCA,QAASA,EAAQA,SADZA,EAAQG,OAQjB,OACI,sBAAKL,UAAWgC,IAAgBD,SAAhC,UAEI,sBAAK/B,UAAWgC,IAAgBC,QAAhC,UAEI,8BACI,2CAGJ,qBAAKjC,UAAWgC,IAAgBzB,QAAhC,SACKA,OAKT,sBAAKP,UAAWgC,IAAgBE,SAAhC,UAEI,sBAAKlC,UAAWgC,IAAgBG,KAAhC,UACI,0CACCJ,KAGL,qBAAK/B,UAAWgC,IAAgBI,MAAhC,SAEI,qBAAKpC,UAAWgC,IAAgBK,aAAhC,SAEI,cAACrB,EAAD,CAAqBG,SA9BrB,SAACmB,GACjBvC,EAAMwC,YAAYD,EAAOE,8B,uDClB7BC,EAAkB,SAACC,GAAD,MAAY,CAC9BC,OAAQD,EAAME,KAAKD,S,QCQRE,sBACXC,aARoB,SAACJ,GACrB,MAAO,CACHnC,QAASmC,EAAMK,MAAMxC,QACrBwB,SAAUW,EAAMM,aAAaC,gBAKR,CAACV,mBDNE,SAACW,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKrD,MAAM4C,OAET,cAACO,EAAD,eAAeE,KAAKrD,QAFI,cAAC,IAAD,CAAUK,GAAG,eAJT,GAEXiD,IAAMH,WAQtC,OAAOJ,YAAQL,EAARK,CAA0BK,KCLtBN,CAGblB","file":"static/js/3.a8e25d33.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__34oTo\",\"leftCol\":\"messages_leftCol__2X-SZ\",\"friends\":\"messages_friends__13UKv\",\"rightCol\":\"messages_rightCol__2RL9s\",\"head\":\"messages_head__30Yix\",\"write\":\"messages_write__tMJZB\",\"writeMessage\":\"messages_writeMessage__2KKT6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__2zgqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friend_friends__1nQOj\",\"friend\":\"friend_friend__1Le-2\"};","import React from 'react';\nimport messageClasses from './message.module.css';\n\nconst Message = (props) => {\n    return (\n        <div className={messageClasses.message}>\n            <h3>{props.message}</h3>\n        </div>\n    );\n};\n\nexport default Message;\n","import React from 'react';\nimport friendClasses from './friend.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport avatar from './../../../assets/img/unknownUser.jpeg';\n\nconst Friend = (props) => {\n    return (\n        <NavLink to={'/messages/id' + props.id} className={friendClasses.friends}>\n            <div className={friendClasses.friend}>\n\n                <img src={props.url ? props.url : avatar} alt='Friend avatar'/>\n\n                <h2>{props.name}</h2>\n\n            </div>\n        </NavLink>\n    );\n};\n\nexport default Friend;","import React from 'react';\nimport messagesClasses from './messages.module.css';\nimport Message from \"./message/Message\";\nimport Friend from \"./friend/Friend\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../common/formsControl/FormsControl\";\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\n\nconst Messages = (props) => {\n    let friends = props.friends.map(friend => <Friend\n        key={friend.id}\n        name={friend.name}\n        id={friend.id}\n        url={friend.photos.large}\n    />)\n\n    let messages = props.messages.map(message => <Message\n        key={message.id}\n        message={message.message}\n    />)\n\n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageText)\n    }\n\n    return (\n        <div className={messagesClasses.messages}>\n\n            <div className={messagesClasses.leftCol}>\n\n                <div>\n                    <h1>Dialogs</h1>\n                </div>\n\n                <div className={messagesClasses.friends}>\n                    {friends}\n                </div>\n\n            </div>\n\n            <div className={messagesClasses.rightCol}>\n\n                <div className={messagesClasses.head}>\n                    <h1>Messages</h1>\n                    {messages}\n                </div>\n\n                <div className={messagesClasses.write}>\n\n                    <div className={messagesClasses.writeMessage}>\n\n                        <AddMessageFormRedux onSubmit={addNewMessage} />\n\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n    );\n};\n\nconst maxLength300 = maxLengthCreator(300)\n\nconst AddMessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field component={Textarea} validate={[requiredField, maxLength300]} name='newMessageText' placeholder='Write message to your friend' />\n            <button>Send</button>\n        </form>\n    )\n}\n\nconst AddMessageFormRedux = reduxForm({form: 'messagesAddMessageForm'})(AddMessageForm)\n\nexport default Messages;\n","import {Redirect} from \"react-router-dom\";\nimport React from \"react\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n})\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to='/login' />\n\n            return <Component {...this.props} />\n        }\n    }\n\n    return connect(mapStateToProps) (RedirectComponent)\n}\n","import {sendMessage} from \"../../redux/reducers/messagesReducer\";\nimport Messages from \"./Messages\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nconst mapStateToProps = (state) => {\n    return {\n        friends: state.aside.friends,\n        messages: state.messagesPage.messagesData,\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {sendMessage}),\n    withAuthRedirect,\n)(Messages);\n"],"sourceRoot":""}