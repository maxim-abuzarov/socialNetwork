(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[7],{320:function(e,a,t){e.exports={wrapper:"chatpage_wrapper__3P3RA",messages:"chatpage_messages__1PDBs",message:"chatpage_message__1lgSy",header:"chatpage_header__1WxWZ",avatar:"chatpage_avatar__1LXn1",avatarWrapper:"chatpage_avatarWrapper__i84AB",author:"chatpage_author__2khn9",content:"chatpage_content__2OZ3C",send:"chatpage_send__WADT4"}},323:function(e,a,t){"use strict";t.r(a);var c=t(57),s=t(1),r=t.n(s),n=t(320),i=t.n(n),j=t(20),o=t(16),u=t(137),h=t(42),l=t(0),b=function(){var e=Object(o.c)();return Object(s.useEffect)((function(){return e(Object(u.c)()),function(){e(Object(u.d)())}}),[]),Object(l.jsxs)("div",{className:i.a.wrapper,children:[Object(l.jsx)(d,{}),Object(l.jsx)(p,{})]})},d=function(){var e=Object(o.d)((function(e){return e.chat.messages})),a=Object(s.useRef)(null),t=Object(s.useState)(!0),r=Object(c.a)(t,2),n=r[0],j=r[1];return Object(s.useEffect)((function(){var e;n&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(l.jsxs)("div",{className:i.a.messages,onScroll:function(e){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<200?!n&&j(!0):n&&j(!1)},children:[e.map((function(e){return Object(l.jsx)(O,{message:e},e.id)})),Object(l.jsx)("div",{ref:a})]})},O=r.a.memo((function(e){var a=e.message;return Object(l.jsxs)("div",{className:i.a.message,children:[Object(l.jsxs)(j.b,{to:"/profile/"+a.userId,className:i.a.header,children:[Object(l.jsx)("div",{className:i.a.avatar,children:Object(l.jsx)("div",{className:i.a.avatarWrapper,children:Object(l.jsx)("img",{src:a.photo?a.photo:h.a,alt:"Author avatar"})})}),Object(l.jsx)("div",{className:i.a.author,children:Object(l.jsx)("h4",{children:a.userName})})]}),Object(l.jsx)("div",{className:i.a.content,children:Object(l.jsx)("h2",{children:a.message})})]})})),p=function(){var e=Object(s.useState)(""),a=Object(c.a)(e,2),t=a[0],r=a[1],n=Object(o.d)((function(e){return e.chat.status})),j=Object(o.c)();return Object(l.jsxs)("div",{className:i.a.send,children:[Object(l.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value)},value:t}),Object(l.jsx)("button",{disabled:"Ready"!==n,onClick:function(){t&&(j(Object(u.b)(t)),r(""))},children:"Send"})]})};a.default=function(){return Object(l.jsx)(b,{})}}}]);
//# sourceMappingURL=7.cb4ce42e.chunk.js.map