(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{305:function(e,t,n){e.exports={inner:"users_inner__8zw3D",user:"users_user__35VOC",usersLoading:"users_usersLoading__1Z-K5",name:"users_name__Or0kG",photo:"users_photo__Z_NMi",status:"users_status__HnLT-",button:"users_button__2U6vF",followed:"users_followed__1INXW",pages:"users_pages__2zuKX",pagesLoading:"users_pagesLoading__zGKft",page:"users_page__1VGXq",pageSelected:"users_pageSelected__3AnPR"}},315:function(e,t,n){e.exports={form:"searchform_form__3QDMb"}},325:function(e,t,n){"use strict";n.r(t);var s=n(3),r=n(1),a=n.n(r),c=n(305),i=n.n(c),o=n(31),u=n(57),l=n(0),d=function(e){for(var t=e.totalItemsCount,n=e.pageSize,s=e.currentPage,a=e.portionSize,c=void 0===a?15:a,o=e.isLoading,d=e.onPageChanged,j=Math.ceil(t/n),b=Math.ceil(j/c),f=Object(r.useState)(1),g=Object(u.a)(f,2),O=g[0],h=g[1],m=(O-1)*c+1,p=O*c,_=[],x=1;x<=j;x++)_.push(x);return Object(l.jsxs)("div",{className:o?i.a.pagesLoading:i.a.pages,children:[O>1&&Object(l.jsx)("button",{className:i.a.page,onClick:function(){h(O-1)},children:"<"}),_.filter((function(e){return e>=m&&e<=p})).map((function(e){return Object(l.jsx)("div",{className:s===e?i.a.pageSelected:i.a.page,onClick:function(){d(e)},children:e},e)})),b>O&&Object(l.jsx)("button",{className:i.a.page,onClick:function(){h(O+1)},children:">"})]})},j=n(20),b=n(42),f=function(e){var t=e.user,n=e.followingProgress,s=e.follow,r=e.unfollow,a=e.isLoading;return Object(l.jsxs)("div",{className:a?i.a.usersLoading:i.a.user,children:[Object(l.jsx)("div",{className:i.a.name,children:Object(l.jsx)("h1",{children:t.name.toLowerCase()})}),Object(l.jsx)("div",{className:i.a.photo,children:Object(l.jsx)(j.b,{to:"/profile/"+t.id,children:Object(l.jsx)("img",{src:null!==t.photos.large?t.photos.large:b.a,alt:"User avatar"})})}),Object(l.jsx)("div",{className:i.a.status,children:Object(l.jsx)("h3",{children:null!==t.status?t.status:"There could be a status here, but..."})}),Object(l.jsx)("div",{className:i.a.button,children:t.followed?Object(l.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},className:i.a.followed,children:"Followed"}):Object(l.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})})]})},g=n(321),O=n(315),h=n.n(O),m=n(16),p=function(e){return e.usersPage.users},_=function(e){return e.usersPage.pageSize},x=function(e){return e.usersPage.totalUsersCount},v=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isLoading},P=function(e){return e.usersPage.followingProgress},N=function(e){return e.usersPage.filter},C=a.a.memo((function(e){var t=e.onFilterChanged,n=Object(m.d)(N);return Object(l.jsx)("div",{className:h.a.form,children:Object(l.jsx)(g.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},onSubmit:function(e,n){var s=n.setSubmitting,r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),s(!1)},children:function(e){var t=e.isSubmitting;return Object(l.jsxs)(g.b,{children:[Object(l.jsx)(g.a,{type:"text",name:"term",placeholder:"Enter name"}),Object(l.jsxs)(g.a,{name:"friend",as:"select",children:[Object(l.jsx)("option",{value:"null",children:"All"}),Object(l.jsx)("option",{value:"true",children:"Only followed"}),Object(l.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(l.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),S=n(50),L=n(15),k=n(316);t.default=function(){var e=Object(m.d)(p),t=Object(m.d)(x),n=Object(m.d)(v),a=Object(m.d)(_),c=Object(m.d)(w),u=Object(m.d)(N),j=Object(m.d)(P),b=Object(m.c)(),g=Object(L.g)();Object(r.useEffect)((function(){var e=k.parse(g.location.search.substr(1)),t=n,r=u;switch(e.page&&(t=Number(e.page)),e.term&&(r=Object(s.a)(Object(s.a)({},r),{},{term:e.term})),e.friend){case"null":r=Object(s.a)(Object(s.a)({},r),{},{friend:null});break;case"true":r=Object(s.a)(Object(s.a)({},r),{},{friend:!0});break;case"false":r=Object(s.a)(Object(s.a)({},r),{},{friend:!1})}b(Object(S.c)(t,a,r))}),[]),Object(r.useEffect)((function(){var e={};u.term&&(e.term=u.term),null!==u.friend&&(e.friend=String(u.friend)),1!==n&&(e.page=String(n)),g.push({pathname:"/users",search:k.stringify(e)})}),[u,n]);var O=function(e){b(Object(S.b)(e))},h=function(e){b(Object(S.e)(e))};return Object(l.jsxs)("div",{className:i.a.inner,children:[c?Object(l.jsx)(o.a,{}):null,Object(l.jsx)(d,{totalItemsCount:t,pageSize:a,currentPage:n,onPageChanged:function(e){b(Object(S.c)(e,a,u))},isLoading:c}),Object(l.jsx)(C,{onFilterChanged:function(e){b(Object(S.c)(1,a,e))}}),e.map((function(e){return Object(l.jsx)(f,{user:e,followingProgress:j,follow:O,unfollow:h,isLoading:c},e.id)}))]})}}}]);
//# sourceMappingURL=5.de04b99a.chunk.js.map